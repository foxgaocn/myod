=render 'header'
%section.order
  .center{class: "{{title_class}}"}
    %h4 {{title}}
  %form{:novalidate => ""}
    %label 商品名:
    %autocomplete{"attr-input-class" => "form-control", "attr-placeholder" => "", :data => "products", "ng-model" => "order.product_name", "on-select" => "selectProduct", "on-type" => "updateProducts"}
    %label 数量:
    %input.form-control{"ng-model" => "order.quantity", :required => "", :type => "number", :min =>'1', "ng-change"=>"quantity_changed(order.quantity)"}/
    %label 客户:
    .row
      .col-xs-9
        %select.form-control{"ng-model" => "order.client_id", "ng-options" => "client.id as client.name for client in clients", "ng-change"=>"clientChanged(order.client_id)", :required => ""}
      .col-xs-3
        .btn.btn-primary{"ng-click" => "newClient()"} 新客户
    .row
      .col-md-6
        %label 单价: ({{price_unit}})
        %input.form-control{"ng-model" => "order.sale_price", :required => "", :type => "number", :step =>"0.01", :min=>'0', "ng-change"=>"unit_price_changed(order.sale_price)"}
      .col-md-6
        %label 总价: ({{price_unit}})
        %input.form-control{:type => "number", "ng-model" => "total_price", :step =>"0.01", :min=>'0', "ng-change"=>"total_price_changed(total_price)"}
    %br/
    %br/
    .center
      .btn.btn-success{"ng-click" => "submit($event)", :type => "submit"} 确定